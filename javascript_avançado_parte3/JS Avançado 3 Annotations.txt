window.indexedDB;

window.indexedDB.open;

window.indexedDB.onupgradeneeded;

window.indexedDB.onsuccess;

window.indexedDB.onerror.

var minhaConnection = e.target.result;
       minhaConnection.createObjectStore('negociacoes');

var connection;

var openRequest = window.indexedDB.open('aluraframe',1);

openRequest.onupgradeneeded = e =>  {

    console.log('Criando ou atualizando o banco');
};

openRequest.onsuccess = e => {

    console.log('Conexão realizada com sucesso');

    connection = e.target.result;
};

openRequest.onerror = e => {

    console.log(e.target.error);
};

let transaction = connection.transaction(['negociacoes'],'readwrite');

let store = transaction.objectStore('negociacoes');

let transaction = connection.transaction(['negociacoes'],'readwrite');

let store = transaction.objectStore('negociacoes');

let negociacao = new Negociacao(new Date(), 200, 1);

let request = store.add(negociacao);

request.onsuccess = e => {
  alert('Adicionado com sucesso!');
};

request.onerror = e => {
  alert('Não foi possível adicionar');
};

modelo de projeto DAO.

Babel.

Apache Cordova/Phonegap ou Ionic